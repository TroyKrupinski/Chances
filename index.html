<html>
<head>
    <title>Chances</title>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <style>
              body{
    background: url('http://blog.hostbaby.com/wp-content/uploads/2013/07/scuffedstatic_blue_1920x1234.jpg') no-repeat center center fixed;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    color: white;
  
  }
  .col-centered{
    float: none;
    margin: 0 auto;
}
        </style>
    <script>
         $(document).ready(function(){

            $("#sc").empty();
        var ar = [];
        var targarray = [];
        var targs = 0;
        var lower = 0;
        var upper = 0;
        var rep = 0;
        var target = 0;
        var error = false;
        var tag = 1;
        var ercheck = 0;
    
        $("#submit-targets").on("click",function(event){
            
            targarray = [];
            targs = 0;
            target = 0;
            tag = 1;
            $("#tt").html('');
         
                event.preventDefault();
                targnumb = parseInt($("#target-number").val().trim());
                for(i = 0; i < targnumb; i++){
                        $("#tt").append("<div class = 'form-group row'");
                        $("#tt").append("<label for='target'>Target " + tag + "</label>");
                        $("#tt").append("<input class='form-control' id='target" + i + "' type='number'>");
                        $("#tt").append("</div>");
                        targs++;
                     tag++;

                }
                
                $("#target-number").val('');
        });
    $("#submit-numbers").on("click", function(event){
        //ui / style / getting inputs
        error = false;
        $("#sc").html('');
        event.preventDefault();
        var lower = ($("#lower-number").val().trim());
        var upper = ($("#upper-number").val().trim());
        var rep = ($("#rep-number").val().trim());
      
        var targstring = "";
        for(x = 0; x < targs; x++){
            console.log('test');
            targstring = "#target" + x;
            
            targarray.push($(targstring).val().trim());
        }
        console.log(targarray);
        //error checking
        if(lower > upper){
            alert('Lower input must be smaller than higher!');
            lower = 0;
            upper = 0;
            rep = 0;
            target = 0;
            error = true;
        }
        if(lower < 0|| upper < 0){
            alert('Lower and upper must not be negative!')
            lower = 0;
            upper = 0;
            rep = 0;
            target = 0;
            error = true;
        }
        for(u = 0; u< targarray.length; u++){
            targstring3 = "#target" + u;
           
            if($(targstring3).val() == ''){
                alert('Must enter something for every target.')
                lower = 0;
            upper = 0;
            rep = 0;
            target = 0;
            error = true;
            }
        }
        ar.push(lower);
        ar.push(upper);
        ar.push(rep);
        ar.push(target);
        $("#lower-number").val('');
        $("#upper-number").val('');
        $("#rep-number").val('');
        $("#target").val('');
        for(s = 0; s < targs; s++){
            targstring2 = "#target" + s;
            
            $(targstring2).val('');
        }

//logic
        localrand = 0;
        times = 0;
        percentage = 0;
       index = 1;
        stat = parseInt((1- Math.pow((1-(targarray.length/(parseInt(upper) - parseInt(lower)))),rep))*100);
        console.log(stat);
        stat = stat + "%";
        for(i = 1; i<rep; i++){
            localrand = parseInt(lower) + parseInt((Math.floor(Math.random() * (upper - lower) + lower)));
            console.log(lower);
            for(z = 0; z < targarray.length; z++){
                if(localrand == targarray[z]){
                    times++;
                }
                if(times == 0){
                    percentage = 0;
                }
                else{
                    
                    
                percentage = (times/i)*100;
                    
                }
               
            }
                $("#sc").append("<tr><th scope='row'>"+ index + "</th><td>" + localrand + "</th><td>"+times + "</th><td>" + percentage + "%" + "</th><td>" + stat);
                stat = "";
                index++;
        }
        if(error == false){
        $("#tst").html('Target(s) happened ' + times + ' times, with a percentage of ' + percentage);
        }
    });
    
});

    </script>
</head>
<body>
        <div class="jumbotron bg-dark col-lg-6 col-centered text-white">
                <h1 class="text-center">Chances</h1>
                <h2 class = "text-center" id = "tst"></h2>
                
              </div>
              <div class="row">
                    <div class="col-lg-8 col-centered">
                      <div class="card card text-white bg-dark">
                        <div class="card-header">
                          
                        </div>
                        <div class="card-body">
                          <form>
                            <div class="form-group row">
                              <label for="lower-number">Targets</label>
                              <input class="form-control" id="target-number" type="number">
                              
                            </div>
                            <button class="btn btn-primary" id="submit-targets" type="submit">Submit</button>
                        </div>


       
              <div class="row">
                    <div class="col-lg-8 col-centered">
              <table class="table table-dark">
                <thead>
                  <tr>
                    <th scope = "col">Index#</th>
                    <th scope="col">Pseudo-Random Numbers</th>
                    <th scope="col">Target Frequency</th>
                    <th scope = "col">Percentage</th>
                    <th scope = "col">% Happening Once or < </th>

                    
                  </tr>
                </thead>
                <tbody id = "sc">
                
                 
                </tbody>
              </table>
                    </div>
 <div class="row">
        <div class="col-lg-8 col-centered">
          <div class="card card text-white bg-dark">
            <div class="card-header">
              Data
            </div>
            <div class="card-body">
              <form>
                  
                <div class="form-group row">
                  <label for="lower-number">Min</label>
                  <input class="form-control" id="lower-number" type="number">
                  
                </div>
                <div class="form-group row">
                    <label for="upper-number">Max</label>
                    <input class="form-control" id="upper-number" type="number">
                  </div>
                <div class="form-group row">
                  <label for="rep-number">Repetitions</label>
                  <input class="form-control" id="rep-number" type="number">
                </div>
              
                  <div id = "tt">
                </div>
                <button class="btn btn-primary" id="submit-numbers" type="submit">Submit</button>
            
              </form>
            </div>
          </div>
        </div>
      </div>
</body>


</html>
